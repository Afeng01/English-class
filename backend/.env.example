# 环境配置文件
# 复制此文件为 .env 并填入你的API密钥和配置

# ==================== 词典API配置 ====================
# 系统使用双API策略：
# 1. Free Dictionary API（免费，无需配置）：查询单词的英文释义和音标
# 2. 有道翻译API（可选）：查询短语和句子的中文翻译

# 有道翻译API（可选，用于短语/句子翻译）
# 申请地址：https://ai.youdao.com/
# 如果不配置，仍可查询单词的英文释义，但无法翻译短语和句子
YOUDAO_APP_KEY=your_app_key_here
YOUDAO_APP_SECRET=your_app_secret_here

# ==================== 阿里云OSS配置（可选）====================
# 用于存储书籍图片到云端，减少本地存储占用
# 申请地址：https://oss.console.aliyun.com/

# 是否启用OSS存储（true启用，false使用本地存储）
USE_OSS=false

# OSS访问密钥（AccessKey ID）
OSS_ACCESS_KEY_ID=your_access_key_id_here

# OSS访问密钥（AccessKey Secret）
OSS_ACCESS_KEY_SECRET=your_access_key_secret_here

# OSS地域节点（如：oss-cn-hangzhou.aliyuncs.com）
# 常用节点：
# - 华东1（杭州）：oss-cn-hangzhou.aliyuncs.com
# - 华北2（北京）：oss-cn-beijing.aliyuncs.com
# - 华南1（深圳）：oss-cn-shenzhen.aliyuncs.com
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com

# OSS存储桶名称（Bucket Name）
OSS_BUCKET_NAME=your_bucket_name_here

# ==================== OSS配置说明 ====================
# 1. 登录阿里云控制台：https://oss.console.aliyun.com/
# 2. 创建Bucket（建议选择"标准存储"，"公共读"权限）
# 3. 获取AccessKey：https://ram.console.aliyun.com/manage/ak
# 4. 将USE_OSS设置为true并填入上述配置
# 5. 重启后端服务生效
#
# 注意事项：
# - 确保Bucket权限设置为"公共读"，否则前端无法访问图片
# - 建议配置CDN加速提升访问速度
# - OSS费用极低，100本书约1GB图片每月约0.12元

# ==================== 使用说明 ====================
# 配置完成后重启后端服务即可使用
#
# 词典功能：
# - Free Dictionary：提供英文释义、音标、例句（免费，自动启用）
# - 有道翻译：提供短语和句子的中文翻译（可选）
# - 支持词形还原：running → run, went → go
#
# OSS存储：
# - 自动将上传的书籍图片存储到云端
# - 支持本地存储fallback

# ==================== Supabase配置（必需）====================
# 用于存储书籍、章节和词汇数据到云端PostgreSQL数据库
# 申请地址：https://supabase.com/

# Supabase项目URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase Service Role Key（后端使用，拥有完整权限）
# ⚠️ 注意：这是Service Role Key，不是Anon Key！在Supabase Dashboard的Settings > API中获取
SUPABASE_SERVICE_KEY=your_service_role_key_here

# ==================== Supabase配置说明 ====================
# 1. 访问 https://supabase.com/ 创建项目
# 2. 在项目Dashboard的Settings > API中获取：
#    - Project URL（SUPABASE_URL）
#    - Service Role Key（SUPABASE_SERVICE_KEY，⚠️ 不是Anon Key）
# 3. 后端使用Service Role Key可以绕过RLS直接访问所有数据
# 4. 书籍数据为全局共享，用户数据（词汇、进度、设置）受RLS保护
